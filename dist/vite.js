var Kz=44,Uz=59,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=new Uint8Array(64),Wz=new Uint8Array(128);for(let z=0;z<r.length;z++){let Q=r.charCodeAt(z);e[z]=Q,Wz[Q]=z}function N(z,Q,X){let Z=Q-X;Z=Z<0?-Z<<1|1:Z<<1;do{let $=Z&31;if(Z>>>=5,Z>0)$|=32;z.write(e[$])}while(Z>0);return Q}var t=16384,n=typeof TextDecoder!=="undefined"?new TextDecoder:typeof Buffer!=="undefined"?{decode(z){return Buffer.from(z.buffer,z.byteOffset,z.byteLength).toString()}}:{decode(z){let Q="";for(let X=0;X<z.length;X++)Q+=String.fromCharCode(z[X]);return Q}},Gz=class{constructor(){this.pos=0,this.out="",this.buffer=new Uint8Array(t)}write(z){let{buffer:Q}=this;if(Q[this.pos++]=z,this.pos===t)this.out+=n.decode(Q),this.pos=0}flush(){let{buffer:z,out:Q,pos:X}=this;return X>0?Q+n.decode(z.subarray(0,X)):Q}};function zz(z){let Q=new Gz,X=0,Z=0,$=0,Y=0;for(let J=0;J<z.length;J++){let A=z[J];if(J>0)Q.write(Uz);if(A.length===0)continue;let K=0;for(let U=0;U<A.length;U++){let G=A[U];if(U>0)Q.write(Kz);if(K=N(Q,G[0],K),G.length===1)continue;if(X=N(Q,G[1],X),Z=N(Q,G[2],Z),$=N(Q,G[3],$),G.length===4)continue;Y=N(Q,G[4],Y)}}return Q.flush()}class k{constructor(z){this.bits=z instanceof k?z.bits.slice():[]}add(z){this.bits[z>>5]|=1<<(z&31)}has(z){return!!(this.bits[z>>5]&1<<(z&31))}}class f{constructor(z,Q,X){this.start=z,this.end=Q,this.original=X,this.intro="",this.outro="",this.content=X,this.storeName=!1,this.edited=!1,this.previous=null,this.next=null}appendLeft(z){this.outro+=z}appendRight(z){this.intro=this.intro+z}clone(){let z=new f(this.start,this.end,this.original);return z.intro=this.intro,z.outro=this.outro,z.content=this.content,z.storeName=this.storeName,z.edited=this.edited,z}contains(z){return this.start<z&&z<this.end}eachNext(z){let Q=this;while(Q)z(Q),Q=Q.next}eachPrevious(z){let Q=this;while(Q)z(Q),Q=Q.previous}edit(z,Q,X){if(this.content=z,!X)this.intro="",this.outro="";return this.storeName=Q,this.edited=!0,this}prependLeft(z){this.outro=z+this.outro}prependRight(z){this.intro=z+this.intro}reset(){if(this.intro="",this.outro="",this.edited)this.content=this.original,this.storeName=!1,this.edited=!1}split(z){let Q=z-this.start,X=this.original.slice(0,Q),Z=this.original.slice(Q);this.original=X;let $=new f(z,this.end,Z);if($.outro=this.outro,this.outro="",this.end=z,this.edited)$.edit("",!1),this.content="";else this.content=X;if($.next=this.next,$.next)$.next.previous=$;return $.previous=this,this.next=$,$}toString(){return this.intro+this.content+this.outro}trimEnd(z){if(this.outro=this.outro.replace(z,""),this.outro.length)return!0;let Q=this.content.replace(z,"");if(Q.length){if(Q!==this.content){if(this.split(this.start+Q.length).edit("",void 0,!0),this.edited)this.edit(Q,this.storeName,!0)}return!0}else if(this.edit("",void 0,!0),this.intro=this.intro.replace(z,""),this.intro.length)return!0}trimStart(z){if(this.intro=this.intro.replace(z,""),this.intro.length)return!0;let Q=this.content.replace(z,"");if(Q.length){if(Q!==this.content){let X=this.split(this.end-Q.length);if(this.edited)X.edit(Q,this.storeName,!0);this.edit("",void 0,!0)}return!0}else if(this.edit("",void 0,!0),this.outro=this.outro.replace(z,""),this.outro.length)return!0}}function Fz(){if(typeof globalThis!=="undefined"&&typeof globalThis.btoa==="function")return(z)=>globalThis.btoa(unescape(encodeURIComponent(z)));else if(typeof Buffer==="function")return(z)=>Buffer.from(z,"utf-8").toString("base64");else return()=>{throw new Error("Unsupported environment: `window.btoa` or `Buffer` should be supported.")}}var Hz=Fz();class Xz{constructor(z){if(this.version=3,this.file=z.file,this.sources=z.sources,this.sourcesContent=z.sourcesContent,this.names=z.names,this.mappings=zz(z.mappings),typeof z.x_google_ignoreList!=="undefined")this.x_google_ignoreList=z.x_google_ignoreList;if(typeof z.debugId!=="undefined")this.debugId=z.debugId}toString(){return JSON.stringify(this)}toUrl(){return"data:application/json;charset=utf-8;base64,"+Hz(this.toString())}}function Dz(z){let Q=z.split(`
`),X=Q.filter((Y)=>/^\t+/.test(Y)),Z=Q.filter((Y)=>/^ {2,}/.test(Y));if(X.length===0&&Z.length===0)return null;if(X.length>=Z.length)return"\t";let $=Z.reduce((Y,J)=>{let A=/^ +/.exec(J)[0].length;return Math.min(A,Y)},1/0);return new Array($+1).join(" ")}function qz(z,Q){let X=z.split(/[/\\]/),Z=Q.split(/[/\\]/);X.pop();while(X[0]===Z[0])X.shift(),Z.shift();if(X.length){let $=X.length;while($--)X[$]=".."}return X.concat(Z).join("/")}var jz=Object.prototype.toString;function _z(z){return jz.call(z)==="[object Object]"}function Qz(z){let Q=z.split(`
`),X=[];for(let Z=0,$=0;Z<Q.length;Z++)X.push($),$+=Q[Z].length+1;return function Z($){let Y=0,J=X.length;while(Y<J){let U=Y+J>>1;if($<X[U])J=U;else Y=U+1}let A=Y-1,K=$-X[A];return{line:A,column:K}}}var Bz=/\w/;class Zz{constructor(z){this.hires=z,this.generatedCodeLine=0,this.generatedCodeColumn=0,this.raw=[],this.rawSegments=this.raw[this.generatedCodeLine]=[],this.pending=null}addEdit(z,Q,X,Z){if(Q.length){let $=Q.length-1,Y=Q.indexOf(`
`,0),J=-1;while(Y>=0&&$>Y){let K=[this.generatedCodeColumn,z,X.line,X.column];if(Z>=0)K.push(Z);this.rawSegments.push(K),this.generatedCodeLine+=1,this.raw[this.generatedCodeLine]=this.rawSegments=[],this.generatedCodeColumn=0,J=Y,Y=Q.indexOf(`
`,Y+1)}let A=[this.generatedCodeColumn,z,X.line,X.column];if(Z>=0)A.push(Z);this.rawSegments.push(A),this.advance(Q.slice(J+1))}else if(this.pending)this.rawSegments.push(this.pending),this.advance(Q);this.pending=null}addUneditedChunk(z,Q,X,Z,$){let Y=Q.start,J=!0,A=!1;while(Y<Q.end){if(X[Y]===`
`)Z.line+=1,Z.column=0,this.generatedCodeLine+=1,this.raw[this.generatedCodeLine]=this.rawSegments=[],this.generatedCodeColumn=0,J=!0,A=!1;else{if(this.hires||J||$.has(Y)){let K=[this.generatedCodeColumn,z,Z.line,Z.column];if(this.hires==="boundary")if(Bz.test(X[Y])){if(!A)this.rawSegments.push(K),A=!0}else this.rawSegments.push(K),A=!1;else this.rawSegments.push(K)}Z.column+=1,this.generatedCodeColumn+=1,J=!1}Y+=1}this.pending=null}advance(z){if(!z)return;let Q=z.split(`
`);if(Q.length>1){for(let X=0;X<Q.length-1;X++)this.generatedCodeLine++,this.raw[this.generatedCodeLine]=this.rawSegments=[];this.generatedCodeColumn=0}this.generatedCodeColumn+=Q[Q.length-1].length}}var L=`
`,R={insertLeft:!1,insertRight:!1,storeName:!1};class m{constructor(z,Q={}){let X=new f(0,z.length,z);Object.defineProperties(this,{original:{writable:!0,value:z},outro:{writable:!0,value:""},intro:{writable:!0,value:""},firstChunk:{writable:!0,value:X},lastChunk:{writable:!0,value:X},lastSearchedChunk:{writable:!0,value:X},byStart:{writable:!0,value:{}},byEnd:{writable:!0,value:{}},filename:{writable:!0,value:Q.filename},indentExclusionRanges:{writable:!0,value:Q.indentExclusionRanges},sourcemapLocations:{writable:!0,value:new k},storedNames:{writable:!0,value:{}},indentStr:{writable:!0,value:void 0},ignoreList:{writable:!0,value:Q.ignoreList},offset:{writable:!0,value:Q.offset||0}}),this.byStart[0]=X,this.byEnd[z.length]=X}addSourcemapLocation(z){this.sourcemapLocations.add(z)}append(z){if(typeof z!=="string")throw new TypeError("outro content must be a string");return this.outro+=z,this}appendLeft(z,Q){if(z=z+this.offset,typeof Q!=="string")throw new TypeError("inserted content must be a string");this._split(z);let X=this.byEnd[z];if(X)X.appendLeft(Q);else this.intro+=Q;return this}appendRight(z,Q){if(z=z+this.offset,typeof Q!=="string")throw new TypeError("inserted content must be a string");this._split(z);let X=this.byStart[z];if(X)X.appendRight(Q);else this.outro+=Q;return this}clone(){let z=new m(this.original,{filename:this.filename,offset:this.offset}),Q=this.firstChunk,X=z.firstChunk=z.lastSearchedChunk=Q.clone();while(Q){z.byStart[X.start]=X,z.byEnd[X.end]=X;let Z=Q.next,$=Z&&Z.clone();if($)X.next=$,$.previous=X,X=$;Q=Z}if(z.lastChunk=X,this.indentExclusionRanges)z.indentExclusionRanges=this.indentExclusionRanges.slice();return z.sourcemapLocations=new k(this.sourcemapLocations),z.intro=this.intro,z.outro=this.outro,z}generateDecodedMap(z){z=z||{};let Q=0,X=Object.keys(this.storedNames),Z=new Zz(z.hires),$=Qz(this.original);if(this.intro)Z.advance(this.intro);if(this.firstChunk.eachNext((Y)=>{let J=$(Y.start);if(Y.intro.length)Z.advance(Y.intro);if(Y.edited)Z.addEdit(Q,Y.content,J,Y.storeName?X.indexOf(Y.original):-1);else Z.addUneditedChunk(Q,Y,this.original,J,this.sourcemapLocations);if(Y.outro.length)Z.advance(Y.outro)}),this.outro)Z.advance(this.outro);return{file:z.file?z.file.split(/[/\\]/).pop():void 0,sources:[z.source?qz(z.file||"",z.source):z.file||""],sourcesContent:z.includeContent?[this.original]:void 0,names:X,mappings:Z.raw,x_google_ignoreList:this.ignoreList?[Q]:void 0}}generateMap(z){return new Xz(this.generateDecodedMap(z))}_ensureindentStr(){if(this.indentStr===void 0)this.indentStr=Dz(this.original)}_getRawIndentString(){return this._ensureindentStr(),this.indentStr}getIndentString(){return this._ensureindentStr(),this.indentStr===null?"\t":this.indentStr}indent(z,Q){let X=/^[^\r\n]/gm;if(_z(z))Q=z,z=void 0;if(z===void 0)this._ensureindentStr(),z=this.indentStr||"\t";if(z==="")return this;Q=Q||{};let Z={};if(Q.exclude)(typeof Q.exclude[0]==="number"?[Q.exclude]:Q.exclude).forEach((U)=>{for(let G=U[0];G<U[1];G+=1)Z[G]=!0});let $=Q.indentStart!==!1,Y=(K)=>{if($)return`${z}${K}`;return $=!0,K};this.intro=this.intro.replace(X,Y);let J=0,A=this.firstChunk;while(A){let K=A.end;if(A.edited){if(!Z[J]){if(A.content=A.content.replace(X,Y),A.content.length)$=A.content[A.content.length-1]===`
`}}else{J=A.start;while(J<K){if(!Z[J]){let U=this.original[J];if(U===`
`)$=!0;else if(U!=="\r"&&$)if($=!1,J===A.start)A.prependRight(z);else this._splitChunk(A,J),A=A.next,A.prependRight(z)}J+=1}}J=A.end,A=A.next}return this.outro=this.outro.replace(X,Y),this}insert(){throw new Error("magicString.insert(...) is deprecated. Use prependRight(...) or appendLeft(...)")}insertLeft(z,Q){if(!R.insertLeft)console.warn("magicString.insertLeft(...) is deprecated. Use magicString.appendLeft(...) instead"),R.insertLeft=!0;return this.appendLeft(z,Q)}insertRight(z,Q){if(!R.insertRight)console.warn("magicString.insertRight(...) is deprecated. Use magicString.prependRight(...) instead"),R.insertRight=!0;return this.prependRight(z,Q)}move(z,Q,X){if(z=z+this.offset,Q=Q+this.offset,X=X+this.offset,X>=z&&X<=Q)throw new Error("Cannot move a selection inside itself");this._split(z),this._split(Q),this._split(X);let Z=this.byStart[z],$=this.byEnd[Q],Y=Z.previous,J=$.next,A=this.byStart[X];if(!A&&$===this.lastChunk)return this;let K=A?A.previous:this.lastChunk;if(Y)Y.next=J;if(J)J.previous=Y;if(K)K.next=Z;if(A)A.previous=$;if(!Z.previous)this.firstChunk=$.next;if(!$.next)this.lastChunk=Z.previous,this.lastChunk.next=null;if(Z.previous=K,$.next=A||null,!K)this.firstChunk=Z;if(!A)this.lastChunk=$;return this}overwrite(z,Q,X,Z){return Z=Z||{},this.update(z,Q,X,{...Z,overwrite:!Z.contentOnly})}update(z,Q,X,Z){if(z=z+this.offset,Q=Q+this.offset,typeof X!=="string")throw new TypeError("replacement content must be a string");if(this.original.length!==0){while(z<0)z+=this.original.length;while(Q<0)Q+=this.original.length}if(Q>this.original.length)throw new Error("end is out of bounds");if(z===Q)throw new Error("Cannot overwrite a zero-length range – use appendLeft or prependRight instead");if(this._split(z),this._split(Q),Z===!0){if(!R.storeName)console.warn("The final argument to magicString.overwrite(...) should be an options object. See https://github.com/rich-harris/magic-string"),R.storeName=!0;Z={storeName:!0}}let $=Z!==void 0?Z.storeName:!1,Y=Z!==void 0?Z.overwrite:!1;if($){let K=this.original.slice(z,Q);Object.defineProperty(this.storedNames,K,{writable:!0,value:!0,enumerable:!0})}let J=this.byStart[z],A=this.byEnd[Q];if(J){let K=J;while(K!==A){if(K.next!==this.byStart[K.end])throw new Error("Cannot overwrite across a split point");K=K.next,K.edit("",!1)}J.edit(X,$,!Y)}else{let K=new f(z,Q,"").edit(X,$);A.next=K,K.previous=A}return this}prepend(z){if(typeof z!=="string")throw new TypeError("outro content must be a string");return this.intro=z+this.intro,this}prependLeft(z,Q){if(z=z+this.offset,typeof Q!=="string")throw new TypeError("inserted content must be a string");this._split(z);let X=this.byEnd[z];if(X)X.prependLeft(Q);else this.intro=Q+this.intro;return this}prependRight(z,Q){if(z=z+this.offset,typeof Q!=="string")throw new TypeError("inserted content must be a string");this._split(z);let X=this.byStart[z];if(X)X.prependRight(Q);else this.outro=Q+this.outro;return this}remove(z,Q){if(z=z+this.offset,Q=Q+this.offset,this.original.length!==0){while(z<0)z+=this.original.length;while(Q<0)Q+=this.original.length}if(z===Q)return this;if(z<0||Q>this.original.length)throw new Error("Character is out of bounds");if(z>Q)throw new Error("end must be greater than start");this._split(z),this._split(Q);let X=this.byStart[z];while(X)X.intro="",X.outro="",X.edit(""),X=Q>X.end?this.byStart[X.end]:null;return this}reset(z,Q){if(z=z+this.offset,Q=Q+this.offset,this.original.length!==0){while(z<0)z+=this.original.length;while(Q<0)Q+=this.original.length}if(z===Q)return this;if(z<0||Q>this.original.length)throw new Error("Character is out of bounds");if(z>Q)throw new Error("end must be greater than start");this._split(z),this._split(Q);let X=this.byStart[z];while(X)X.reset(),X=Q>X.end?this.byStart[X.end]:null;return this}lastChar(){if(this.outro.length)return this.outro[this.outro.length-1];let z=this.lastChunk;do{if(z.outro.length)return z.outro[z.outro.length-1];if(z.content.length)return z.content[z.content.length-1];if(z.intro.length)return z.intro[z.intro.length-1]}while(z=z.previous);if(this.intro.length)return this.intro[this.intro.length-1];return""}lastLine(){let z=this.outro.lastIndexOf(L);if(z!==-1)return this.outro.substr(z+1);let Q=this.outro,X=this.lastChunk;do{if(X.outro.length>0){if(z=X.outro.lastIndexOf(L),z!==-1)return X.outro.substr(z+1)+Q;Q=X.outro+Q}if(X.content.length>0){if(z=X.content.lastIndexOf(L),z!==-1)return X.content.substr(z+1)+Q;Q=X.content+Q}if(X.intro.length>0){if(z=X.intro.lastIndexOf(L),z!==-1)return X.intro.substr(z+1)+Q;Q=X.intro+Q}}while(X=X.previous);if(z=this.intro.lastIndexOf(L),z!==-1)return this.intro.substr(z+1)+Q;return this.intro+Q}slice(z=0,Q=this.original.length-this.offset){if(z=z+this.offset,Q=Q+this.offset,this.original.length!==0){while(z<0)z+=this.original.length;while(Q<0)Q+=this.original.length}let X="",Z=this.firstChunk;while(Z&&(Z.start>z||Z.end<=z)){if(Z.start<Q&&Z.end>=Q)return X;Z=Z.next}if(Z&&Z.edited&&Z.start!==z)throw new Error(`Cannot use replaced character ${z} as slice start anchor.`);let $=Z;while(Z){if(Z.intro&&($!==Z||Z.start===z))X+=Z.intro;let Y=Z.start<Q&&Z.end>=Q;if(Y&&Z.edited&&Z.end!==Q)throw new Error(`Cannot use replaced character ${Q} as slice end anchor.`);let J=$===Z?z-Z.start:0,A=Y?Z.content.length+Q-Z.end:Z.content.length;if(X+=Z.content.slice(J,A),Z.outro&&(!Y||Z.end===Q))X+=Z.outro;if(Y)break;Z=Z.next}return X}snip(z,Q){let X=this.clone();return X.remove(0,z),X.remove(Q,X.original.length),X}_split(z){if(this.byStart[z]||this.byEnd[z])return;let Q=this.lastSearchedChunk,X=Q,Z=z>Q.end;while(Q){if(Q.contains(z))return this._splitChunk(Q,z);if(Q=Z?this.byStart[Q.end]:this.byEnd[Q.start],Q===X)return;X=Q}}_splitChunk(z,Q){if(z.edited&&z.content.length){let Z=Qz(this.original)(Q);throw new Error(`Cannot split a chunk that has already been edited (${Z.line}:${Z.column} – "${z.original}")`)}let X=z.split(Q);if(this.byEnd[Q]=z,this.byStart[Q]=X,this.byEnd[X.end]=X,z===this.lastChunk)this.lastChunk=X;return this.lastSearchedChunk=z,!0}toString(){let z=this.intro,Q=this.firstChunk;while(Q)z+=Q.toString(),Q=Q.next;return z+this.outro}isEmpty(){let z=this.firstChunk;do if(z.intro.length&&z.intro.trim()||z.content.length&&z.content.trim()||z.outro.length&&z.outro.trim())return!1;while(z=z.next);return!0}length(){let z=this.firstChunk,Q=0;do Q+=z.intro.length+z.content.length+z.outro.length;while(z=z.next);return Q}trimLines(){return this.trim("[\\r\\n]")}trim(z){return this.trimStart(z).trimEnd(z)}trimEndAborted(z){let Q=new RegExp((z||"\\s")+"+$");if(this.outro=this.outro.replace(Q,""),this.outro.length)return!0;let X=this.lastChunk;do{let Z=X.end,$=X.trimEnd(Q);if(X.end!==Z){if(this.lastChunk===X)this.lastChunk=X.next;this.byEnd[X.end]=X,this.byStart[X.next.start]=X.next,this.byEnd[X.next.end]=X.next}if($)return!0;X=X.previous}while(X);return!1}trimEnd(z){return this.trimEndAborted(z),this}trimStartAborted(z){let Q=new RegExp("^"+(z||"\\s")+"+");if(this.intro=this.intro.replace(Q,""),this.intro.length)return!0;let X=this.firstChunk;do{let Z=X.end,$=X.trimStart(Q);if(X.end!==Z){if(X===this.lastChunk)this.lastChunk=X.next;this.byEnd[X.end]=X,this.byStart[X.next.start]=X.next,this.byEnd[X.next.end]=X.next}if($)return!0;X=X.next}while(X);return!1}trimStart(z){return this.trimStartAborted(z),this}hasChanged(){return this.original!==this.toString()}_replaceRegexp(z,Q){function X($,Y){if(typeof Q==="string")return Q.replace(/\$(\$|&|\d+)/g,(J,A)=>{if(A==="$")return"$";if(A==="&")return $[0];if(+A<$.length)return $[+A];return`$${A}`});else return Q(...$,$.index,Y,$.groups)}function Z($,Y){let J,A=[];while(J=$.exec(Y))A.push(J);return A}if(z.global)Z(z,this.original).forEach((Y)=>{if(Y.index!=null){let J=X(Y,this.original);if(J!==Y[0])this.overwrite(Y.index,Y.index+Y[0].length,J)}});else{let $=this.original.match(z);if($&&$.index!=null){let Y=X($,this.original);if(Y!==$[0])this.overwrite($.index,$.index+$[0].length,Y)}}return this}_replaceString(z,Q){let{original:X}=this,Z=X.indexOf(z);if(Z!==-1){if(typeof Q==="function")Q=Q(z,Z,X);if(z!==Q)this.overwrite(Z,Z+z.length,Q)}return this}replace(z,Q){if(typeof z==="string")return this._replaceString(z,Q);return this._replaceRegexp(z,Q)}_replaceAllString(z,Q){let{original:X}=this,Z=z.length;for(let $=X.indexOf(z);$!==-1;$=X.indexOf(z,$+Z)){let Y=X.slice($,$+Z),J=Q;if(typeof Q==="function")J=Q(Y,$,X);if(Y!==J)this.overwrite($,$+Z,J)}return this}replaceAll(z,Q){if(typeof z==="string")return this._replaceAllString(z,Q);if(!z.global)throw new TypeError("MagicString.prototype.replaceAll called with a non-global RegExp argument");return this._replaceRegexp(z,Q)}}function b(z=""){let Q=z.length,X=Q^Q,Z=0,$;while(Q>=4)$=z.charCodeAt(Z)&255|(z.charCodeAt(++Z)&255)<<8|(z.charCodeAt(++Z)&255)<<16|(z.charCodeAt(++Z)&255)<<24,$=($&65535)*1540483477+((($>>>16)*1540483477&65535)<<16),$^=$>>>24,$=($&65535)*1540483477+((($>>>16)*1540483477&65535)<<16),X=(X&65535)*1540483477+(((X>>>16)*1540483477&65535)<<16)^$,Q-=4,++Z;if(Q>=3)X^=(z.charCodeAt(Z+2)&255)<<16;if(Q>=2)X^=(z.charCodeAt(Z+1)&255)<<8;if(Q>=1)X^=z.charCodeAt(Z)&255,X=(X&65535)*1540483477+(((X>>>16)*1540483477&65535)<<16);return X^=X>>>13,X=(X&65535)*1540483477+(((X>>>16)*1540483477&65535)<<16),X^=X>>>15,(X>>>0).toString(36)}function l(z){return/^[a-zA-Z_$][a-zA-Z0-9_$]*$/.test(z)}function j(z){return JSON.stringify(z)}function Ez(z={}){let{classPrefix:Q="ss",debug:X}=z,Z=X??process.env.DEBUG_STYLED_STATIC==="true",$=new Map,Y,J=!1;return{name:"styled-static",enforce:"post",configResolved(A){Y=A,J=Y.command==="serve"},resolveId(A){if(A.startsWith("\x00styled-static:"))return A;if(A.startsWith("styled-static:"))return"\x00"+A;return null},load(A){if(A.startsWith("\x00styled-static:")){let K=A.slice(15);return $.get(K)??""}return null},handleHotUpdate({file:A,server:K}){if(/\.[tj]sx?$/.test(A)){let U=b($z(A)).slice(0,8);for(let[G]of $)if(G.startsWith(U)){let W=K.moduleGraph.getModuleById(`\x00styled-static:${G}`);if(W)K.moduleGraph.invalidateModule(W)}}},async transform(A,K){if(!/\.[cm]?[jt]sx?$/.test(K)||/node_modules/.test(K))return null;let U=A.includes("styled-static"),G=A.includes('from "./index"')||A.includes("from './index'")||A.includes('from "../index"')||A.includes("from '../index'");if(!U&&!G)return null;if(Z)console.log("[styled-static] Transforming:",K);let W;try{if(W=this.parse(A),Z)console.log("[styled-static] AST parsed successfully, body length:",W.body.length)}catch(F){if(Z)console.log("[styled-static] AST parse error:",F);return null}let H=Oz(W);if(Z)console.log("[styled-static] Found imports:",H);let D=H.css||H.styled||H.createGlobalStyle||H.keyframes,w=H.styledVariants||H.cssVariants;if(!D&&!w){if(Z)console.log("[styled-static] No imports found, skipping");return null}let E=D?Tz(W,H,A):[];if(Z)console.log("[styled-static] Found templates:",E.length);let q=w?Vz(W,A,H):[];if(Z)console.log("[styled-static] Found variant calls:",q.length);if(E.length===0&&q.length===0){if(Z)console.log("[styled-static] No templates or variants found, skipping");return null}let T=new m(A),O=b($z(K)).slice(0,8),_=[],u=!1,d=!1,c=!1,o=!1,i=!1,a=!1,s=0;for(let F=0;F<E.length;F++){let B=E[F];if(!B)continue;let M=Rz(A,B.node.quasi),y=J?6:8,I=b(M).slice(0,y),C=`${Q}-${I}`,h=B.type==="createGlobalStyle"?M:`.${C} { ${M} }`,x=`${O}-${s++}.css`;$.set(x,h),_.push(`import "styled-static:${x}";`);let p=Pz(B,C,J);if(T.overwrite(B.node.start,B.node.end,p),B.type==="styled")u=!0;if(B.type==="styledExtend")d=!0;if(B.type==="createGlobalStyle")c=!0}for(let F of q){let B=b(F.baseCss||"").slice(0,6),M=`${Q}-${B}`,y="";if(F.baseCss)y+=`.${M} { ${F.baseCss} }
`;for(let[x,p]of F.variants)for(let[Yz,Az]of p){let Jz=`${M}--${x}-${Yz}`;y+=`.${Jz} { ${Az} }
`}let I=`${O}-${s++}.css`;$.set(I,y),_.push(`import "styled-static:${I}";`);let C=Array.from(F.variants.keys()),h=Nz(F,M,C,J);if(T.overwrite(F.start,F.end,h),F.type==="styledVariants")if(F.component&&/^[a-z]/.test(F.component))o=!0;else i=!0;if(F.type==="cssVariants")a=!0}let g=H.source==="./index"||H.source==="../index"?H.source.replace("/index","/runtime"):"styled-static/runtime",P=[],S=[];if(u)S.push("__styled");if(d)S.push("__styledExtend");if(S.length>0)P.push(`import { ${S.join(", ")} } from "${g}/styled";`);let V=[];if(o)V.push("__styledVariants");if(i)V.push("__styledVariantsExtend");if(a)V.push("__cssVariants");if(V.length>0)P.push(`import { ${V.join(", ")} } from "${g}/variants";`);if(c)P.push(`import { __GlobalStyle } from "${g}/global";`);let v="";if(_.length>0)v+=_.join(`
`)+`
`;if(P.length>0)v+=P.join(`
`)+`
`;if(v)T.prepend(v+`
`);return{code:T.toString(),map:T.generateMap({hires:!0})}}}}function Oz(z){let Q={};for(let X of z.body)if(X.type==="ImportDeclaration"){let Z=X.source.value;if(Z==="styled-static"||Z==="./index"||Z==="../index"){Q.source=Z;for(let Y of X.specifiers)if(Y.type==="ImportSpecifier"){let J=Y.imported.name,A=Y.local.name;if(J==="styled")Q.styled=A;if(J==="css")Q.css=A;if(J==="createGlobalStyle")Q.createGlobalStyle=A;if(J==="keyframes")Q.keyframes=A;if(J==="styledVariants")Q.styledVariants=A;if(J==="cssVariants")Q.cssVariants=A}}}return Q}function Tz(z,Q,X){let Z=[];function $(Y){for(let J of Y.declarations)if(J.init?.type==="TaggedTemplateExpression"&&J.id.type==="Identifier"){let A=J.init,K=J.id.name,U=Mz(A,Q,K,X);if(U)Z.push(U)}}for(let Y of z.body){if(Y.type==="VariableDeclaration")$(Y);if(Y.type==="ExportNamedDeclaration"&&Y.declaration?.type==="VariableDeclaration")$(Y.declaration)}return Z}function Mz(z,Q,X,Z){let{tag:$}=z;if($.type==="MemberExpression"&&$.object.type==="Identifier"&&$.object.name===Q.styled&&$.property.type==="Identifier")return{type:"styled",node:z,tag:$.property.name,variableName:X};if($.type==="CallExpression"&&$.callee.type==="Identifier"&&$.callee.name===Q.styled&&$.arguments[0]?.type==="Identifier")return{type:"styledExtend",node:z,tag:"",baseComponent:$.arguments[0].name,variableName:X};if($.type==="Identifier"&&$.name===Q.css)return{type:"css",node:z,tag:"",variableName:X};if($.type==="Identifier"&&$.name===Q.createGlobalStyle)return{type:"createGlobalStyle",node:z,tag:"",variableName:X};if($.type==="Identifier"&&$.name===Q.keyframes)return{type:"keyframes",node:z,tag:"",variableName:X};if($.type==="CallExpression"&&$.callee.type==="MemberExpression"&&$.callee.property.type==="Identifier"&&$.callee.property.name==="attrs"&&$.callee.object.type==="MemberExpression"&&$.callee.object.object.type==="Identifier"&&$.callee.object.object.name===Q.styled&&$.callee.object.property.type==="Identifier"&&$.arguments.length===1){let Y=$.callee.object.property.name,J=$.arguments[0],A=Z.slice(J.start,J.end);return{type:"styledAttrs",node:z,tag:Y,variableName:X,attrsArg:A}}return null}function Rz(z,Q){return z.slice(Q.start+1,Q.end-1)}function Pz(z,Q,X){let Z=X&&z.variableName&&l(z.variableName)?`,
  displayName: ${j(z.variableName)}`:"";switch(z.type){case"styled":return`__styled({
  tag: ${j(z.tag)},
  className: ${j(Q)}${Z}
})`;case"styledExtend":return`__styledExtend({
  base: ${z.baseComponent},
  className: ${j(Q)}${Z}
})`;case"styledAttrs":return`__styledWithAttrs(${j(z.tag)}, ${j(Q)}, ${z.attrsArg??"{}"}${Z?`, ${j(z.variableName)}`:""})`;case"css":return j(Q);case"keyframes":return j(Q);case"createGlobalStyle":return"__GlobalStyle"}}function $z(z){return z.replace(/\\/g,"/").toLowerCase()}function Vz(z,Q,X){let Z=[];function $(Y){for(let J of Y.declarations)if(J.init?.type==="CallExpression"&&J.id.type==="Identifier"){let A=J.init,K=J.id.name,U=yz(A,Q,X,K);if(U)Z.push(U)}}for(let Y of z.body){if(Y.type==="VariableDeclaration")$(Y);if(Y.type==="ExportNamedDeclaration"&&Y.declaration?.type==="VariableDeclaration")$(Y.declaration)}return Z}function yz(z,Q,X,Z){if(z.callee.type!=="Identifier")return null;let $=z.callee.name,Y=$===X.styledVariants,J=$===X.cssVariants;if(!Y&&!J)return null;if(z.arguments.length!==1||z.arguments[0]?.type!=="ObjectExpression")return null;let A=z.arguments[0],K,U,G=new Map;for(let W of A.properties){if(W.type!=="Property"||W.key.type!=="Identifier")continue;let H=W.key.name;if(H==="component"){if(W.value.type==="Literal"&&typeof W.value.value==="string")K=W.value.value;else if(W.value.type==="Identifier")K=W.value.name}if(H==="css"){if(W.value.type==="Literal"&&typeof W.value.value==="string")U=W.value.value;else if(W.value.type==="TemplateLiteral"){let D=W.value;U=Q.slice(D.start+1,D.end-1)}else if(W.value.type==="TaggedTemplateExpression"){let D=W.value;if(D.tag.type==="Identifier"&&D.tag.name===X.css)U=Q.slice(D.quasi.start+1,D.quasi.end-1)}}if(H==="variants"&&W.value.type==="ObjectExpression")for(let D of W.value.properties){if(D.type!=="Property"||D.key.type!=="Identifier")continue;if(D.value.type!=="ObjectExpression")continue;let w=D.key.name,E=new Map;for(let q of D.value.properties){if(q.type!=="Property"||q.key.type!=="Identifier")continue;let T=q.key.name,O;if(q.value.type==="Literal"&&typeof q.value.value==="string")O=q.value.value;else if(q.value.type==="TemplateLiteral"){let _=q.value;O=Q.slice(_.start+1,_.end-1)}else if(q.value.type==="TaggedTemplateExpression"){let _=q.value;if(_.tag.type==="Identifier"&&_.tag.name===X.css)O=Q.slice(_.quasi.start+1,_.quasi.end-1)}if(O)E.set(T,O)}if(E.size>0)G.set(w,E)}}return{type:Y?"styledVariants":"cssVariants",start:z.start,end:z.end,component:K,baseCss:U,variants:G,variableName:Z}}function Nz(z,Q,X,Z){let $=Z&&z.variableName&&l(z.variableName)?`,
  displayName: ${j(z.variableName)}`:"",Y=JSON.stringify(X);if(z.type==="styledVariants")if(z.component&&/^[a-z]/.test(z.component)){if(!z.component||!/^[a-z][a-z0-9]*$/.test(z.component))throw new Error(`[styled-static] Invalid HTML tag name: ${z.component}`);return`__styledVariants({
  tag: ${j(z.component)},
  baseClass: ${j(Q)},
  variantKeys: ${Y}${$}
})`}else{if(!z.component||!l(z.component))throw new Error(`[styled-static] Invalid component name: ${z.component}`);return`__styledVariantsExtend({
  base: ${z.component},
  baseClass: ${j(Q)},
  variantKeys: ${Y}${$}
})`}return`__cssVariants({
  baseClass: ${j(Q)},
  variantKeys: ${Y}
})`}var xz=Ez;export{Ez as styledStatic,xz as default};
